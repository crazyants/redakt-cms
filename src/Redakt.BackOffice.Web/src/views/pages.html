<template>
    <require from="../components/page-tree-node"></require>

    <div class="row">
        <div class="col-lg-3">
            <div class="card-box m-b-10">
                <h4 class="header-title m-t-0 m-b-20 text-dark">Sites</h4>
                <div class="input-group m-t-10">
                    <select value.bind="selectedSite" change.delegate="siteSwitched($event)" class="form-control">
                        <option repeat.for="site of sites" model.bind="site">${site.name}</option>
                    </select>
                    <span class="input-group-btn">
                        <button class="btn btn-primary" type="button" click.trigger="newSite()">New Site</button>
                    </span>
                </div>
            </div>

            <div class="card-box m-b-10">
                <h4 class="header-title m-t-0 m-b-20 text-dark">Pages</h4>
                <div class="treeview">
                    <ul>
                        <page-tree-node page.bind="homePage"></page-tree-node>
                    </ul>
                </div>
            </div>
        </div>

        <div class="col-lg-9">
            <compose if.bind="currentPage" view-model="./content" model.bind="currentPage"></compose>
        </div>
    </div>
</template>